apiVersion: kustomize.config.k8s.io/v1beta1
kind: Kustomization

namespace: immich

resources:
  - ./namespace.yaml
  - ./cluster.postgres.yaml
  - ./redis.yaml
  - ./persistentvolumeclaim.yaml

helmCharts:
  - name: immich
    namespace: immich
    releaseName: immich
    repo: https://immich-app.github.io/immich-charts
    valuesFile: values.immich.yaml
    version: 0.4.0

patches:
  - path: ./overlays/deployment.ml.yaml
  - path: ./overlays/deployment.svc.yaml
  - path: ./overlays/deployment.srv.yaml
